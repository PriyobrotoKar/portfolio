---
import { cosmic } from "@/lib/cosmic";
import Card from "../Card.astro";

const { objects } = await cosmic.objects
  .find({ type: "projects" })
  .props("slug,title,metadata")
  .depth(1);
---

<section class="grid grid-cols-2 gap-10">
  {
    objects.map(({ title, slug, metadata }: any) => {
      return (
        <Card href={`/projects/${slug}`}>
          <div class="space-y-2">
            <h2 class="text-2xl font-medium">{title}</h2>
            <p class="text-muted-foreground line-clamp-2">
              {metadata.overview}
            </p>
          </div>
          <img
            class="absolute w-full translate-y-8 group-hover:translate-y-6 transition-all"
            src={metadata.thumbnail.url}
            alt=""
            width="300"
            height="300"
          />
        </Card>
      );
    })
  }
</section>
